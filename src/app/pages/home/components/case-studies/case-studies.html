<section
  class="section-padding bg-secondary relative isolate overflow-hidden border-t border-white/5"
>
  <!-- Technical Grid Background -->
  <div class="absolute inset-0 -z-10 bg-[size:40px_40px] bg-grid-white/[0.02]"></div>
  <div class="absolute inset-0 -z-10 bg-secondary/90"></div>

  <!-- Decorative technical lines -->
  <div
    class="absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"
  ></div>
  <div
    class="absolute bottom-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/10 to-transparent"
  ></div>

  <div class="layout-container relative z-10">
    <!-- Header -->
    <app-section-header subtitle="PROJECT_ARCHIVE" title="Deployed Systems" class="mb-0">
      <!-- Terminal-style decoration -->
      <div
        class="hidden md:inline-flex items-center gap-2 font-mono text-xs text-primary/60 border border-primary/20 bg-primary/5 px-3 py-1.5 rounded-sm mt-4"
      >
        <span class="animate-pulse w-2 h-2 rounded-full bg-primary"></span>
        STATUS: ONLINE
      </div>
    </app-section-header>

    <!-- Case Studies Grid -->
    <div class="grid grid-cols-1 gap-8 lg:grid-cols-2 lg:gap-10">
      @for (study of caseStudies(); track study.title; let first = $first; let index = $index) {
        <a
          [routerLink]="study.link"
          class="block h-full group outline-none focus-visible:ring-1 focus-visible:ring-primary cursor-pointer"
        >
          <app-card
            [interactive]="true"
            class="h-full flex flex-col p-0 overflow-hidden border border-white/10 hover:border-primary/50 transition-colors"
          >
            <!-- Technical Header Bar -->
            <div
              class="flex items-center justify-between px-4 py-2 border-b border-white/5 bg-white/[0.02] text-xs font-mono text-white/40"
            >
              <div class="flex items-center gap-2">
                <span>LOG_0{{ index + 1 }}</span>
                <span class="w-px h-3 bg-white/10"></span>
                <span class="text-primary/60">{{ study.tag }}</span>
              </div>
              <div class="flex gap-1.5">
                <div class="w-1.5 h-1.5 rounded-full bg-white/20"></div>
                <div class="w-1.5 h-1.5 rounded-full bg-white/20"></div>
              </div>
            </div>

            <!-- Image Area -->
            <figure
              class="aspect-[16/9] w-full overflow-hidden bg-black relative group-hover:opacity-90 transition-opacity"
            >
              <img
                [ngSrc]="study.imageUrl"
                [alt]="study.title"
                [priority]="first"
                fill
                class="object-cover object-top transition-transform duration-700 group-hover:scale-105 filter grayscale hover:grayscale-0"
              />

              <!-- Scanline Overlay -->
              <div
                class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0IiBoZWlnaHQ9IjQiPgo8cmVjdCB3aWR0aD0iNCIgaGVpZ2h0PSIxIiBmaWxsPSJyZ2JhKDAsIDAsIDAsIDAuMykiLz4KPC9zdmc+')] pointer-events-none z-10 opacity-50"
              ></div>

              <!-- Vignette -->
              <div
                class="absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,rgba(0,0,0,0.4)_100%)] z-10"
              ></div>
            </figure>

            <!-- Content Area -->
            <div
              class="flex flex-1 flex-col p-6 sm:p-8 bg-black/20 backdrop-blur-sm border-t border-white/5 relative overflow-hidden"
            >
              <!-- Decorative corner accents -->
              <div
                class="absolute top-0 right-0 w-3 h-3 border-t border-r border-white/10 group-hover:border-primary/50 transition-colors"
              ></div>
              <div
                class="absolute bottom-0 left-0 w-3 h-3 border-b border-l border-white/10 group-hover:border-primary/50 transition-colors"
              ></div>

              <h3
                class="text-xl font-mono uppercase tracking-tight text-white group-hover:text-primary transition-colors duration-300 text-balance mb-3"
              >
                > {{ study.title }}
              </h3>

              <p
                class="flex-1 text-sm leading-6 text-white/60 text-pretty group-hover:text-white/80 transition-colors border-l-2 border-white/5 pl-4 group-hover:border-primary/30"
              >
                {{ study.description }}
              </p>

              <div
                class="mt-6 flex items-center justify-end gap-2 text-xs font-mono text-primary opacity-80 group-hover:opacity-100 transition-opacity"
              >
                [ACCESS_FILE]
                <svg
                  class="h-3 w-3 transition-transform group-hover:translate-x-1"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="2"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75"
                  />
                </svg>
              </div>
            </div>
          </app-card>
        </a>
      }
    </div>

    <!-- Final CTA -->
    <footer class="mt-16 text-center">
      <app-button
        route="/work"
        variant="ghost"
        styleClass="font-mono text-xs uppercase tracking-widest border border-white/10 hover:border-primary hover:text-primary transition-all"
      >
        // Access Full Archive
      </app-button>
    </footer>
  </div>
</section>
