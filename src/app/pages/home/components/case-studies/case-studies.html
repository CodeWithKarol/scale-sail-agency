<section class="section-padding bg-secondary relative isolate overflow-hidden">
  <!-- Background decoration -->
  <div
    class="absolute inset-0 -z-10 bg-[radial-gradient(45rem_50rem_at_top,theme(colors.secondary),theme(colors.black))] opacity-20"
  ></div>
  <div
    class="absolute inset-y-0 right-0 -z-10 w-[50%] bg-gradient-to-l from-white/5 to-transparent"
  ></div>

  <div class="layout-container">
    <!-- Header -->
    <app-section-header
      subtitle="Featured Work"
      title="Built to Reduce Risk. Proven to Deliver Results."
    />

    <!-- Case Studies Grid -->
    <div class="grid grid-cols-1 gap-8 lg:grid-cols-2 lg:gap-10">
      @for (study of caseStudies(); track study.title; let first = $first) {
        <a [href]="study.link" class="block h-full group outline-none focus-visible:rounded-3xl">
          <app-card [interactive]="true" class="h-full flex flex-col p-0 overflow-hidden">
            <!-- Image Area -->
            <figure
              class="aspect-[16/9] w-full overflow-hidden bg-black/20 sm:aspect-[3/2] lg:aspect-[16/9] relative"
            >
              <img
                [ngSrc]="study.imageUrl"
                [alt]="study.title"
                [priority]="first"
                fill
                class="object-cover object-top transition-transform duration-700 group-hover:scale-105"
              />
              <!-- Gradient Overlay for better text contrast -->
              <div
                class="absolute inset-0 bg-gradient-to-t from-secondary via-transparent to-transparent opacity-40"
              ></div>
            </figure>

            <!-- Content Area -->
            <div class="flex flex-1 flex-col p-6 sm:p-8 lg:p-10">
              <div class="flex items-center gap-x-4 mb-4">
                <app-badge variant="soft" color="accent">{{ study.tag }}</app-badge>
              </div>

              <h3
                class="text-xl sm:text-2xl font-bold tracking-tight text-white group-hover:text-primary transition-colors duration-300 text-balance"
              >
                {{ study.title }}
              </h3>

              <p
                class="mt-4 flex-1 text-base leading-7 text-white/60 text-pretty group-hover:text-white/80 transition-colors"
              >
                {{ study.description }}
              </p>

              <div
                class="mt-8 flex items-center gap-2 text-sm font-semibold text-white group-hover:text-primary transition-colors"
              >
                View Case Study
                <svg
                  class="h-4 w-4 transition-transform group-hover:translate-x-1"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="2"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M4.5 12h15m0 0l-6.75-6.75M19.5 12l-6.75 6.75"
                  />
                </svg>
              </div>
            </div>
          </app-card>
        </a>
      }
    </div>

    <!-- Final CTA -->
    <footer class="mt-16 text-center">
      <app-button
        href="https://www.karol-modelski.scale-sail.io"
        variant="ghost"
        styleClass="bg-white/5 ring-1 ring-white/10 hover:bg-white/10 text-white"
      >
        View Full Portfolio
        <span
          aria-hidden="true"
          class="ml-2 opacity-60 transition-transform group-hover:translate-x-1"
          >â†’</span
        >
      </app-button>
    </footer>
  </div>
</section>
