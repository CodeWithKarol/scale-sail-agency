<section class="relative bg-secondary section-padding overflow-hidden">
  <!-- Decorative background effects -->
  <div
    class="absolute inset-0 -z-10 bg-[radial-gradient(45rem_50rem_at_top,theme(colors.secondary),theme(colors.black))] opacity-20"
  ></div>
  <div
    class="absolute inset-y-0 right-0 -z-10 w-[50%] bg-gradient-to-l from-white/5 to-transparent"
  ></div>

  <div class="layout-container">
    <!-- Section Header -->
    <app-section-header
      subtitle="Services & Value Proposition"
      title="Bank-Grade Engineering. Startup-Speed Delivery."
      description="For enterprise teams and ambitious startups, I modernize legacy frontends, fix performance bottlenecks, and build modular Angular systems that stay maintainable as your product grows. Clear outcomes, measurable wins, and audit-ready quality."
    />

    <!-- Cards Grid -->
    <div class="mx-auto grid max-w-lg grid-cols-1 gap-8 lg:max-w-none lg:grid-cols-3">
      @for (tier of tiers(); track tier.name; let first = $first; let last = $last) {
        <app-card
          [variant]="tier.featured ? 'highlight' : 'default'"
          [interactive]="!tier.featured"
          class="flex flex-col justify-between p-8 xl:p-10 relative overflow-hidden"
        >
          <!-- Highlight/Glow Effect for featured card -->
          @if (tier.featured) {
            <div
              class="absolute inset-0 bg-gradient-to-b from-primary/10 to-transparent opacity-50 pointer-events-none"
            ></div>
            <div
              class="absolute top-0 right-0 -mr-3 -mt-3 w-24 h-24 rounded-full bg-primary blur-2xl opacity-20 group-hover:opacity-30 transition-opacity"
            ></div>
          }

          <div class="relative">
            <!-- Card Header -->
            <header class="flex items-center justify-between gap-x-4 mb-4">
              <h3
                class="text-xl font-bold leading-8 text-white"
                [class.text-primary]="tier.featured"
              >
                {{ tier.name }}
              </h3>

              @if (tier.featured) {
                <app-badge variant="soft" color="primary">Most Popular</app-badge>
              }
            </header>

            <!-- Description -->
            <p class="text-sm leading-6 text-white/50 border-b border-white/5 pb-6 mb-6">
              {{ tier.description }}
            </p>

            <!-- Features List -->
            <ul class="space-y-4 text-sm leading-6 text-white/80">
              @for (feature of tier.features; track feature) {
                <li class="flex gap-x-3 items-start">
                  <div
                    class="flex-none rounded-full p-1"
                    [class]="
                      tier.featured ? 'bg-primary/10 text-primary' : 'bg-white/10 text-white/40'
                    "
                  >
                    <svg
                      class="h-3.5 w-3.5"
                      viewBox="0 0 20 20"
                      fill="currentColor"
                      aria-hidden="true"
                    >
                      <path
                        fill-rule="evenodd"
                        d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"
                        clip-rule="evenodd"
                      />
                    </svg>
                  </div>
                  {{ feature }}
                </li>
              }
            </ul>
          </div>

          <!-- CTA Button -->
          <div class="mt-8">
            <app-button
              [href]="tier.ctaLink"
              [variant]="tier.featured ? 'primary' : 'ghost'"
              [styleClass]="
                'w-full ' +
                (!tier.featured
                  ? 'bg-white/5 ring-1 ring-white/10 hover:bg-white/10 text-white'
                  : '')
              "
            >
              {{ tier.ctaText }}
            </app-button>
          </div>
        </app-card>
      }
    </div>
  </div>
</section>
